import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Component;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.io.*;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.EventObject;
import java.util.*;

import java.util.ArrayList;

import java.util.Timer;
import java.util.TimerTask;

import javax.swing.AbstractAction;
import javax.swing.AbstractCellEditor;
import javax.swing.ButtonGroup;
import javax.swing.DefaultCellEditor;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JPasswordField;
import javax.swing.JRadioButton;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.SwingConstants;
import javax.swing.event.CellEditorListener;
import javax.swing.table.DefaultTableCellRenderer;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableCellEditor;
import javax.swing.table.TableCellRenderer;
import javax.swing.table.TableColumn;
import javax.swing.JFileChooser;
import javax.swing.filechooser.FileNameExtensionFilter;
public class Ventana {
	JPanel actual=null;
	JPanel anterior=null;
	JPanel bienvenida;
	JPanel login;
	JPanel miCuentaPanel;
	JPanel registro;
	JPanel perfil;
	JPanel consultar;
	JPanel accesoPermitido;
    JPanel listaUsuarios;
    
	String nombre, imagen="material-escolar(1).PNG";
	
	DefaultTableModel tableModel;
	
	JTable table;
	private String[] alumnosColumns  = {"Nombre", "Apellidos", "Fechad de nacimiento", "Correo", "Telefono", "Foto"};
	private String[] maestrosColumns = {"Nombre", "Apellidos", "Fechad de nacimiento", "Correo", "Telefono", "Grado de estudio", "Foto"};
	
	ArrayList<String[]> usersList;
	
	private int posicionUsuario;
	
    private JPanel filtroUsuarios;
    private boolean estudiante = false;
    private boolean docente = false;

	private DefaultTableModel modelo;

    private JLabel imageLabel;
	public Ventana() {
		this.setVisible(true);
		this.setSize(525, 700);
		this.setLocationRelativeTo(null);
		this.setTitle("Menu Principal");
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		this.setLayout(null);
		this.getContentPane().setBackground(Color.decode("#dce7ec"));
		
		getMaestros();
	
		Bienvenida();
		timer();
		repaint();
		revalidate();
		
		
	}
	public void timer() {//Funcion timer realizada por Garayzar Ricardo
		
		Timer timer = new Timer();
		
		TimerTask tarea = new TimerTask() {
			@Override
			public void run() {
				filtroUsuarios();
			}
		};
		
		timer.schedule(tarea, 2000);
		
	}
	public void Bienvenida() {//Panel bienvenida realizado por Garayzar Ricardo

		bienvenida = new JPanel();
		bienvenida.setSize(525, 700);//COMENTARIO DE CAMPA: MODIFIQUE EL TAMAÑO Y LA UBICACION 
		bienvenida.setLocation(0,0);
		bienvenida.setLayout(null);
        bienvenida.setBackground(Color.decode("#dce7ec"));
		
		JLabel titleinicio = new JLabel("Bienvenido",JLabel.CENTER);
		titleinicio.setFont(new Font("Comic Sans", Font.BOLD,30));
		titleinicio.setSize(260, 40);
		titleinicio.setLocation(130, 200);
		titleinicio.setOpaque(false);
		titleinicio.setBackground(Color.decode("#1f7690"));
		bienvenida.add(titleinicio);
		
		JLabel fondo = new JLabel(new ImageIcon("fondo.PNG"));//COMENTARIO DE CAMPA: AÑADI UNA IMAGEN DE FONDO
		fondo.setBounds(-2, 1, 525, 700);//ANCHO X, Y,TAMAÑO EC0307 008299
		bienvenida.add(fondo);
	
		
		
		actual=bienvenida;
		
		add(actual);
		
		repaint();
		revalidate();
	}
	
//	String[] columns = {"Nombre", "Apellidos", "Fechad de nacimiento", "Correo", "Telefono", "Grado de estudio"};
	Object[][] data = new Object[getNumeroDeMaestros()][maestrosColumns.length];
	
	try {
		BufferedReader reader = new BufferedReader(new FileReader("users.txt"));
		String line = reader.readLine();
		
		String[] lineArray = line.split(",");;

		int aux = 0;
		
		boolean addDato = false;

		//añade los datos de la base de datos a la matriz data
		while (line != null) {
			lineArray = line.split(",");
			
			
			for (int i = 0; i < lineArray.length-1; i++) {

				if(lineArray[3].contains("@uabcs.mx"))
				{

					if(i == lineArray.length-3) {
						data[aux][i] = lineArray[i+1];
						addDato = true;
					}else if(i == lineArray.length-2) {
						data[aux][i] = new JLabel(new ImageIcon(lineArray[i+1]));
						addDato = true;
					}else {
					data[aux][i] = lineArray[i];
					addDato = true;
					}
				}

			}
			line = reader.readLine();
			if(addDato) {
			aux++;
			addDato = false;
			}
		}

		reader.close();
		
	} catch (IOException e1) {
		e1.printStackTrace();
	}

	
	return data;
}
}
